<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI Study Tool Impact | Business Analytics Dashboard</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap');

body{
margin:0;
font-family:'Inter',sans-serif;
background:#0a0a0a;
color:#f5f5f5;
}

header{
padding:25px 60px;
font-size:24px;
background:#111;
border-bottom:1px solid #222;
}

.tabs{
display:flex;
border-bottom:1px solid #222;
}

.tab{
padding:15px 40px;
cursor:pointer;
color:#888;
transition:0.3s;
}

.tab:hover{color:#fff;}
.active{
color:#fff;
border-bottom:2px solid #fff;
}

.container{
padding:40px 60px;
}

.hidden{display:none;}

.filters{
margin-bottom:30px;
}

select{
background:#111;
color:#fff;
border:1px solid #333;
padding:8px;
border-radius:8px;
margin-right:10px;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
}

.card{
background:rgba(255,255,255,0.05);
border:1px solid rgba(255,255,255,0.1);
padding:20px;
border-radius:18px;
transition:0.3s;
}

.card:hover{transform:translateY(-4px);}

.metric-title{
font-size:13px;
color:#aaa;
}

.metric-value{
font-size:28px;
font-weight:600;
margin-top:6px;
}

.charts-grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(450px,1fr));
gap:40px;
margin-top:40px;
}

canvas{
width:100% !important;
height:350px !important;
background:#111;
padding:20px;
border-radius:18px;
}

.summary{
margin-top:40px;
padding:30px;
background:#111;
border-radius:18px;
line-height:1.7;
}

.question{
margin-bottom:10px;
}

</style>
</head>

<body>

<header>
AI-Based Study Tool Impact | Business Analytics Dashboard
</header>

<div class="tabs">
<div class="tab active" onclick="switchTab('questionnaire',this)">Questionnaire</div>
<div class="tab" onclick="switchTab('dashboard',this)">Analytics</div>
</div>

<!-- QUESTIONNAIRE TAB -->

<div id="questionnaire" class="container">

<h2>Complete Research Questionnaire</h2>

<div class="question">1–5: Demographics (Gender, Age, Field, Year, Residence)</div>
<div class="question">6–9: Academic Metrics (CGPA, Study Hours, Assignments, Self-Rating)</div>
<div class="question">10–14: AI Usage (Usage Status, Tool, Frequency, AI Hours, Purpose)</div>
<div class="question">15–19: Productivity Metrics (Time Before/After, Productivity, Quality, Concept Understanding)</div>
<div class="question">20–21: Academic Impact (Grade Change, % Improvement)</div>
<div class="question">22–24: Ethical Concerns (Dependency, Thinking Reduction, Regulation)</div>
<div class="question">25: Overall Satisfaction</div>

<p><b>Research Design:</b> Quantitative | Correlational | Descriptive</p>
<p><b>Sample Size:</b> 250 Students</p>

</div>

<!-- DASHBOARD TAB -->

<div id="dashboard" class="container hidden">

<div class="filters">
<select id="fieldFilter"><option value="all">All Fields</option></select>
<select id="yearFilter"><option value="all">All Years</option></select>
<select id="aiFilter">
<option value="all">All Students</option>
<option value="1">AI Users Only</option>
<option value="0">Non-AI Users Only</option>
</select>
</div>

<div class="grid">

<div class="card"><div class="metric-title">AI Adoption Rate</div><div id="adoption" class="metric-value">0</div></div>
<div class="card"><div class="metric-title">CGPA Difference</div><div id="cgpaDiff" class="metric-value">0</div></div>
<div class="card"><div class="metric-title">Efficiency Gain (%)</div><div id="efficiency" class="metric-value">0</div></div>
<div class="card"><div class="metric-title">t-Statistic</div><div id="tstat" class="metric-value">0</div></div>
<div class="card"><div class="metric-title">p-Value</div><div id="pvalue" class="metric-value">0</div></div>
<div class="card"><div class="metric-title">Effect Size (Cohen's d)</div><div id="effectSize" class="metric-value">0</div></div>
<div class="card"><div class="metric-title">Correlation</div><div id="correlation" class="metric-value">0</div></div>
<div class="card"><div class="metric-title">R²</div><div id="r2" class="metric-value">0</div></div>

</div>

<div class="charts-grid">

<canvas id="regressionChart"></canvas>
<canvas id="cgpaDistribution"></canvas>
<canvas id="timeComparison"></canvas>
<canvas id="fieldAdoption"></canvas>
<canvas id="satisfactionTrend"></canvas>
<canvas id="dependencyTrend"></canvas>

</div>

<div id="summary" class="summary"></div>

</div>

<script>

let fullData;

function switchTab(id,el){
document.getElementById("questionnaire").classList.add("hidden");
document.getElementById("dashboard").classList.add("hidden");
document.getElementById(id).classList.remove("hidden");
document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
el.classList.add("active");
}

function animateValue(id,value){
let obj=document.getElementById(id);
obj.innerText=value.toFixed(2);
}

function applyFilters(){

let data=fullData;

let field=document.getElementById("fieldFilter").value;
let year=document.getElementById("yearFilter").value;
let ai=document.getElementById("aiFilter").value;

if(field!="all") data=data.filter(d=>d.Field==field);
if(year!="all") data=data.filter(d=>d.Year==year);
if(ai!="all") data=data.filter(d=>d.UsesAI==ai);

analyze(data);
}

function analyze(data){

let ai=data.filter(d=>d.UsesAI==1);
let non=data.filter(d=>d.UsesAI==0);

if(ai.length<2 || non.length<2) return;

let adoption=ai.length/data.length*100;
animateValue("adoption",adoption);

let meanAI=ai.reduce((a,d)=>a+parseFloat(d.CGPA),0)/ai.length;
let meanNon=non.reduce((a,d)=>a+parseFloat(d.CGPA),0)/non.length;

let diff=meanAI-meanNon;
animateValue("cgpaDiff",diff);

let efficiency=ai.reduce((a,d)=>a+(d.TimeBefore-d.TimeAfter)/d.TimeBefore,0)/ai.length*100;
animateValue("efficiency",efficiency);

let varAI=ai.reduce((a,d)=>a+(d.CGPA-meanAI)**2,0)/(ai.length-1);
let varNon=non.reduce((a,d)=>a+(d.CGPA-meanNon)**2,0)/(non.length-1);

let pooledSD=Math.sqrt(((ai.length-1)*varAI+(non.length-1)*varNon)/(ai.length+non.length-2));
let effect=diff/pooledSD;
animateValue("effectSize",effect);

let t=diff/Math.sqrt((varAI/ai.length)+(varNon/non.length));
animateValue("tstat",t);

let p=Math.exp(-0.717*Math.abs(t)-0.416*t*t);
animateValue("pvalue",p);

let corr=correlation(
ai.map(d=>parseFloat(d.AIHours)),
ai.map(d=>parseFloat(d.CGPA))
);
animateValue("correlation",corr);

animateValue("r2",corr*corr);

drawCharts(ai,data);

document.getElementById("summary").innerHTML=
"<b>Executive Insight:</b><br><br>"+
"AI adoption stands at "+adoption.toFixed(1)+"%. "+
"AI users show a CGPA advantage of "+diff.toFixed(2)+". "+
"Efficiency improves by "+efficiency.toFixed(1)+"%. "+
"t="+t.toFixed(2)+", p="+p.toFixed(4)+". "+
(effect>0.5?"Effect size indicates moderate-to-strong impact. ":"Effect size indicates small-to-moderate impact. ");

}

function correlation(x,y){
let n=x.length;
let avgX=x.reduce((a,b)=>a+b)/n;
let avgY=y.reduce((a,b)=>a+b)/n;
let num=0,denX=0,denY=0;
for(let i=0;i<n;i++){
num+=(x[i]-avgX)*(y[i]-avgY);
denX+=(x[i]-avgX)**2;
denY+=(y[i]-avgY)**2;
}
return num/Math.sqrt(denX*denY);
}

function drawCharts(ai,data){

new Chart(document.getElementById("regressionChart"),{
type:'scatter',
data:{
datasets:[{
label:'Students',
data:ai.map(d=>({x:parseFloat(d.AIHours),y:parseFloat(d.CGPA)})),
backgroundColor:'#fff'
}]
},
options:{responsive:true,maintainAspectRatio:false}
});

new Chart(document.getElementById("timeComparison"),{
type:'bar',
data:{
labels:["Before AI","After AI"],
datasets:[{
data:[
ai.reduce((a,d)=>a+parseFloat(d.TimeBefore),0)/ai.length,
ai.reduce((a,d)=>a+parseFloat(d.TimeAfter),0)/ai.length
],
backgroundColor:["#888","#fff"]
}]
},
options:{responsive:true,maintainAspectRatio:false}
});

}

Papa.parse("AI_Study_Research_Data_250.csv",{
download:true,
header:true,
complete:function(res){

fullData=res.data.filter(r=>r.CGPA);

let fields=[...new Set(fullData.map(d=>d.Field))];
let years=[...new Set(fullData.map(d=>d.Year))];

fields.forEach(f=>{
let opt=document.createElement("option");
opt.value=f;
opt.text="Field "+f;
document.getElementById("fieldFilter").appendChild(opt);
});

years.forEach(y=>{
let opt=document.createElement("option");
opt.value=y;
opt.text="Year "+y;
document.getElementById("yearFilter").appendChild(opt);
});

applyFilters();
}
});

document.getElementById("fieldFilter").onchange=applyFilters;
document.getElementById("yearFilter").onchange=applyFilters;
document.getElementById("aiFilter").onchange=applyFilters;

</script>

</body>
</html>
