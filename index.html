<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI Study Tool Impact | Business Analytics Dashboard</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

body{
margin:0;
font-family:'Inter',sans-serif;
background:#0b0b0b;
color:#f2f2f2;
}

header{
padding:25px 60px;
font-size:22px;
background:#111;
border-bottom:1px solid #222;
}

.tabs{
display:flex;
border-bottom:1px solid #222;
}

.tab{
padding:15px 40px;
cursor:pointer;
color:#888;
}

.tab.active{
color:#fff;
border-bottom:2px solid #fff;
}

.container{
padding:40px 60px;
}

.hidden{display:none;}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
}

.card{
background:#111;
border:1px solid #222;
padding:20px;
border-radius:12px;
}

.metric-title{
font-size:13px;
color:#aaa;
}

.metric-value{
font-size:26px;
font-weight:600;
margin-top:5px;
}

.charts-grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(500px,1fr));
gap:40px;
margin-top:40px;
}

canvas{
width:100% !important;
height:350px !important;
background:#111;
padding:20px;
border-radius:12px;
}

.summary{
margin-top:40px;
padding:25px;
background:#111;
border-radius:12px;
line-height:1.6;
}

h2, h3, h4{
margin-top:25px;
}

ul{
line-height:1.8;
}

</style>
</head>

<body>

<header>
AI-Based Study Tool Impact | Business Analytics Dashboard
</header>

<div class="tabs">
<div class="tab active" onclick="switchTab('questionnaire',this)">Questionnaire</div>
<div class="tab" onclick="switchTab('dashboard',this)">Analytics</div>
</div>

<!-- ================= QUESTIONNAIRE TAB ================= -->

<div id="questionnaire" class="container">

<h2>Research Instrument & Hypothesis Framework</h2>

<h3>Research Objective</h3>
<p>
To examine the impact of AI-based study tools on academic performance,
productivity efficiency, and behavioral indicators among undergraduate students.
</p>

<h3>Hypotheses</h3>

<p><b>H0:</b> There is no significant difference in CGPA between AI users and non-AI users.</p>
<p><b>H1:</b> There is a significant difference in CGPA between AI users and non-AI users.</p>

<p><b>H0₂:</b> AI usage does not significantly improve assignment completion efficiency.</p>
<p><b>H1₂:</b> AI usage significantly improves assignment completion efficiency.</p>

<h3>Questionnaire Structure</h3>

<h4>Section A: Demographics (Nominal Data)</h4>
<ul>
<li>Q1: Gender</li>
<li>Q2: Age</li>
<li>Q3: Field of Study</li>
<li>Q4: Year of Study</li>
<li>Q5: Residence Type</li>
</ul>

<h4>Section B: Academic Background (Ratio Data)</h4>
<ul>
<li>Q6: Current CGPA</li>
<li>Q7: Study Hours per Week</li>
<li>Q8: Assignments per Month</li>
<li>Q9: Self-Rated Academic Performance (Likert 1–5)</li>
</ul>

<h4>Section C: AI Usage</h4>
<ul>
<li>Q10: Do you use AI-based study tools? (Yes/No)</li>
<li>Q11: Primary AI Tool Used</li>
<li>Q12: Frequency of Usage (Never – Daily)</li>
<li>Q13: AI Usage Hours per Week</li>
<li>Q14: Purpose of AI Usage</li>
</ul>

<h4>Section D: Productivity Metrics</h4>
<ul>
<li>Q15: Assignment Completion Time (Before AI)</li>
<li>Q16: Assignment Completion Time (After AI)</li>
<li>Q17: Productivity Improvement (Likert 1–5)</li>
<li>Q18: Quality Improvement (Likert 1–5)</li>
<li>Q19: Concept Understanding Improvement (Likert 1–5)</li>
</ul>

<h4>Section E: Academic Impact</h4>
<ul>
<li>Q20: Grade Impact (Negative – Positive)</li>
<li>Q21: Percentage Academic Improvement</li>
</ul>

<h4>Section F: Behavioral & Ethical Indicators</h4>
<ul>
<li>Q22: Dependency on AI (Likert 1–5)</li>
<li>Q23: Reduction in Independent Thinking (Likert 1–5)</li>
<li>Q24: Support for Institutional Regulation (Likert 1–5)</li>
</ul>

<h4>Section G: Overall Satisfaction</h4>
<ul>
<li>Q25: Overall Satisfaction with AI Tools (Likert 1–5)</li>
</ul>

<h3>Measurement Scale Summary</h3>
<ul>
<li><b>Nominal:</b> Gender, Field, AI Usage Status</li>
<li><b>Ordinal:</b> Frequency of Usage, Likert Scale Responses</li>
<li><b>Ratio:</b> CGPA, Study Hours, Assignment Time, AI Hours</li>
</ul>

<h3>Statistical Methods Applied</h3>
<ul>
<li>Descriptive Statistics (Mean, Percentage)</li>
<li>Independent Samples t-test</li>
<li>Effect Size (Cohen's d)</li>
<li>Efficiency Percentage Analysis</li>
<li>Comparative Group Analysis</li>
</ul>

</div>

<!-- ================= ANALYTICS TAB (UNCHANGED) ================= -->

<div id="dashboard" class="container hidden">

<div class="grid">

<div class="card"><div class="metric-title">AI Adoption Rate</div><div id="adoption" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">Average CGPA (AI)</div><div id="avgAI" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">Average CGPA (Non-AI)</div><div id="avgNon" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">CGPA Difference</div><div id="diff" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">Efficiency Gain (%)</div><div id="efficiency" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">t-statistic</div><div id="tstat" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">p-value</div><div id="pvalue" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">Effect Size (Cohen's d)</div><div id="effect" class="metric-value">--</div></div>

</div>

<div class="charts-grid">

<canvas id="cgpaChart"></canvas>
<canvas id="timeChart"></canvas>
<canvas id="impactChart"></canvas>
<canvas id="qualityChart"></canvas>

</div>

<div id="summary" class="summary"></div>

</div>

<script>

/* ---- SCRIPT REMAINS EXACTLY THE SAME AS YOUR WORKING VERSION ---- */

let fullData;

function switchTab(id,el){
document.getElementById("questionnaire").classList.add("hidden");
document.getElementById("dashboard").classList.add("hidden");
document.getElementById(id).classList.remove("hidden");
document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
el.classList.add("active");
}

function analyze(data){

let ai=data.filter(d=>d.UsesAI==1);
let non=data.filter(d=>d.UsesAI==0);

let adoption=(ai.length/data.length*100);
document.getElementById("adoption").innerText=adoption.toFixed(1)+"%";

let meanAI=ai.reduce((a,d)=>a+parseFloat(d.CGPA),0)/ai.length;
let meanNon=non.reduce((a,d)=>a+parseFloat(d.CGPA),0)/non.length;

document.getElementById("avgAI").innerText=meanAI.toFixed(2);
document.getElementById("avgNon").innerText=meanNon.toFixed(2);

let diff=meanAI-meanNon;
document.getElementById("diff").innerText=diff.toFixed(2);

let efficiency=ai.reduce((a,d)=>a+(d.TimeBefore-d.TimeAfter)/d.TimeBefore,0)/ai.length*100;
document.getElementById("efficiency").innerText=efficiency.toFixed(1)+"%";

let varAI=ai.reduce((a,d)=>a+(d.CGPA-meanAI)**2,0)/(ai.length-1);
let varNon=non.reduce((a,d)=>a+(d.CGPA-meanNon)**2,0)/(non.length-1);

let pooledSD=Math.sqrt(((ai.length-1)*varAI+(non.length-1)*varNon)/(ai.length+non.length-2));
let effect=diff/pooledSD;
document.getElementById("effect").innerText=effect.toFixed(2);

let t=diff/Math.sqrt((varAI/ai.length)+(varNon/non.length));
document.getElementById("tstat").innerText=t.toFixed(2);

let p=Math.exp(-0.717*Math.abs(t)-0.416*t*t);
document.getElementById("pvalue").innerText=p.toFixed(4);

drawCharts(ai,data,meanAI,meanNon);

document.getElementById("summary").innerHTML=
"<b>Conclusion:</b><br><br>"+
"AI adoption stands at "+adoption.toFixed(1)+"%. "+
"AI users demonstrate a CGPA advantage of "+diff.toFixed(2)+" points. "+
"Assignment efficiency improves by "+efficiency.toFixed(1)+"%. "+
"t-statistic = "+t.toFixed(2)+" (p = "+p.toFixed(4)+"). "+
(effect>0.8?"Effect size indicates strong impact.":"Effect size indicates moderate impact.");
}

function drawCharts(ai,data,meanAI,meanNon){

Chart.defaults.color="#ccc";

/* CGPA Comparison */
new Chart(document.getElementById("cgpaChart"),{
type:'bar',
data:{
labels:["AI Users","Non-AI Users"],
datasets:[{
data:[meanAI,meanNon],
backgroundColor:["#ffffff","#777777"]
}]
},
options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{y:{min:6,max:10}}}
});

/* Time Efficiency */
let avgBefore = ai.reduce((a,d)=>a+parseFloat(d.TimeBefore),0)/ai.length;
let avgAfter  = ai.reduce((a,d)=>a+parseFloat(d.TimeAfter),0)/ai.length;

new Chart(document.getElementById("timeChart"),{
type:'bar',
data:{
labels:["Before AI","After AI"],
datasets:[{
data:[avgBefore,avgAfter],
backgroundColor:["#777","#ffffff"]
}]
},
options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{y:{min:0,max:Math.ceil(avgBefore)+2}}}
});

/* Grade Impact */
let negative=data.filter(d=>d.GradeImpact<=2).length;
let neutral=data.filter(d=>d.GradeImpact==3).length;
let positive=data.filter(d=>d.GradeImpact>=4).length;

new Chart(document.getElementById("impactChart"),{
type:'bar',
data:{
labels:["Negative","No Change","Positive"],
datasets:[{
data:[negative,neutral,positive],
backgroundColor:["#555","#888","#ffffff"]
}]
},
options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}
});

/* Quality & Satisfaction */
let avgSat=ai.reduce((a,d)=>a+parseFloat(d.Satisfaction),0)/ai.length;
let avgProd=ai.reduce((a,d)=>a+parseFloat(d.ProductivityImprove),0)/ai.length;
let avgQual=ai.reduce((a,d)=>a+parseFloat(d.QualityImprove),0)/ai.length;
let avgConcept=ai.reduce((a,d)=>a+parseFloat(d.ConceptHelp),0)/ai.length;

new Chart(document.getElementById("qualityChart"),{
type:'bar',
data:{
labels:["Satisfaction","Productivity","Quality","Concept Understanding"],
datasets:[{
data:[avgSat,avgProd,avgQual,avgConcept],
backgroundColor:"#ffffff"
}]
},
options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{y:{min:1,max:5}}}
});

}

Papa.parse("AI_Study_Research_Data_250.csv",{
download:true,
header:true,
complete:function(res){
fullData=res.data.filter(r=>r.CGPA);
analyze(fullData);
}
});

</script>

</body>
</html>
