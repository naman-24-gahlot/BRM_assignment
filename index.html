<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI Study Tool Impact | Clean Business Dashboard</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

body{
margin:0;
font-family:'Inter',sans-serif;
background:#0a0a0a;
color:#f2f2f2;
}

header{
padding:25px 60px;
font-size:22px;
background:#111;
border-bottom:1px solid #222;
}

.tabs{
display:flex;
border-bottom:1px solid #222;
}

.tab{
padding:15px 40px;
cursor:pointer;
color:#888;
}

.tab.active{
color:#fff;
border-bottom:2px solid #fff;
}

.container{
padding:40px 60px;
}

.hidden{display:none;}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
}

.card{
background:#111;
border:1px solid #222;
padding:20px;
border-radius:12px;
}

.metric-title{
font-size:13px;
color:#aaa;
}

.metric-value{
font-size:26px;
font-weight:600;
margin-top:5px;
}

.charts-grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(450px,1fr));
gap:40px;
margin-top:40px;
}

canvas{
width:100% !important;
height:320px !important;
background:#111;
padding:20px;
border-radius:12px;
}

.summary{
margin-top:40px;
padding:25px;
background:#111;
border-radius:12px;
line-height:1.6;
}

</style>
</head>

<body>

<header>
AI-Based Study Tool Impact | Business Analytics Dashboard
</header>

<div class="tabs">
<div class="tab active" onclick="switchTab('questionnaire',this)">Questionnaire</div>
<div class="tab" onclick="switchTab('dashboard',this)">Analytics</div>
</div>

<div id="questionnaire" class="container">
<h3>Research Overview</h3>
<p>Structured questionnaire measuring AI usage, academic performance, productivity and behavioral impact across 250 students.</p>
</div>

<div id="dashboard" class="container hidden">

<div class="grid">

<div class="card"><div class="metric-title">AI Adoption Rate</div><div id="adoption" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">Average CGPA (AI)</div><div id="avgAI" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">Average CGPA (Non-AI)</div><div id="avgNon" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">CGPA Difference</div><div id="diff" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">Efficiency Gain (%)</div><div id="efficiency" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">t-statistic</div><div id="tstat" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">p-value</div><div id="pvalue" class="metric-value">--</div></div>
<div class="card"><div class="metric-title">Effect Size (Cohen's d)</div><div id="effect" class="metric-value">--</div></div>

</div>

<div class="charts-grid">

<canvas id="cgpaChart"></canvas>
<canvas id="timeChart"></canvas>
<canvas id="impactChart"></canvas>
<canvas id="fieldChart"></canvas>

</div>

<div id="summary" class="summary"></div>

</div>

<script>

let fullData;

function switchTab(id,el){
document.getElementById("questionnaire").classList.add("hidden");
document.getElementById("dashboard").classList.add("hidden");
document.getElementById(id).classList.remove("hidden");
document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
el.classList.add("active");
}

function analyze(data){

let ai=data.filter(d=>d.UsesAI==1);
let non=data.filter(d=>d.UsesAI==0);

let adoption=(ai.length/data.length*100);
document.getElementById("adoption").innerText=adoption.toFixed(1)+"%";

let meanAI=ai.reduce((a,d)=>a+parseFloat(d.CGPA),0)/ai.length;
let meanNon=non.reduce((a,d)=>a+parseFloat(d.CGPA),0)/non.length;

document.getElementById("avgAI").innerText=meanAI.toFixed(2);
document.getElementById("avgNon").innerText=meanNon.toFixed(2);

let diff=meanAI-meanNon;
document.getElementById("diff").innerText=diff.toFixed(2);

let efficiency=ai.reduce((a,d)=>a+(d.TimeBefore-d.TimeAfter)/d.TimeBefore,0)/ai.length*100;
document.getElementById("efficiency").innerText=efficiency.toFixed(1)+"%";

let varAI=ai.reduce((a,d)=>a+(d.CGPA-meanAI)**2,0)/(ai.length-1);
let varNon=non.reduce((a,d)=>a+(d.CGPA-meanNon)**2,0)/(non.length-1);

let pooledSD=Math.sqrt(((ai.length-1)*varAI+(non.length-1)*varNon)/(ai.length+non.length-2));
let effect=diff/pooledSD;
document.getElementById("effect").innerText=effect.toFixed(2);

let t=diff/Math.sqrt((varAI/ai.length)+(varNon/non.length));
document.getElementById("tstat").innerText=t.toFixed(2);

let p=Math.exp(-0.717*Math.abs(t)-0.416*t*t);
document.getElementById("pvalue").innerText=p.toFixed(4);

drawCharts(ai,data,meanAI,meanNon);
}

function drawCharts(ai,data,meanAI,meanNon){

new Chart(document.getElementById("cgpaChart"),{
type:'bar',
data:{
labels:["AI Users","Non-AI Users"],
datasets:[{
data:[meanAI,meanNon],
backgroundColor:["#fff","#777"]
}]
},
options:{responsive:true,maintainAspectRatio:false}
});

new Chart(document.getElementById("timeChart"),{
type:'bar',
data:{
labels:["Before AI","After AI"],
datasets:[{
data:[
ai.reduce((a,d)=>a+parseFloat(d.TimeBefore),0)/ai.length,
ai.reduce((a,d)=>a+parseFloat(d.TimeAfter),0)/ai.length
],
backgroundColor:["#777","#fff"]
}]
},
options:{responsive:true,maintainAspectRatio:false}
});

new Chart(document.getElementById("impactChart"),{
type:'bar',
data:{
labels:["Negative","No Change","Positive"],
datasets:[{
data:[
data.filter(d=>d.GradeImpact<=2).length,
data.filter(d=>d.GradeImpact==3).length,
data.filter(d=>d.GradeImpact>=4).length
],
backgroundColor:["#555","#888","#fff"]
}]
},
options:{responsive:true,maintainAspectRatio:false}
});

let fields=[...new Set(data.map(d=>d.Field))];
let adoptionRates=fields.map(f=>{
let group=data.filter(d=>d.Field==f);
let aiGroup=group.filter(d=>d.UsesAI==1);
return aiGroup.length/group.length*100;
});

new Chart(document.getElementById("fieldChart"),{
type:'bar',
data:{
labels:fields.map(f=>"Field "+f),
datasets:[{
data:adoptionRates,
backgroundColor:"#fff"
}]
},
options:{responsive:true,maintainAspectRatio:false}
});

}

Papa.parse("AI_Study_Research_Data_250.csv",{
download:true,
header:true,
complete:function(res){
fullData=res.data.filter(r=>r.CGPA);
analyze(fullData);
}
});

</script>

</body>
</html>
