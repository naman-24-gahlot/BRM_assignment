<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI Study Research | Executive Dashboard</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>

<style>

body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg,#0f172a,#1e293b);
    color: #e2e8f0;
}

header {
    padding: 25px 40px;
    font-size: 24px;
    font-weight: 600;
    background: rgba(0,0,0,0.4);
    backdrop-filter: blur(6px);
}

.tabs {
    display: flex;
    background: #111827;
}

.tab {
    padding: 15px 30px;
    cursor: pointer;
    transition: 0.3s;
}

.tab:hover {
    background: #1f2937;
}

.active {
    background: #2563eb;
}

.container {
    padding: 40px;
}

.hidden { display:none; }

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
    gap: 20px;
}

.card {
    background: #1e293b;
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.4);
}

.metric {
    font-size: 30px;
    font-weight: bold;
    margin-top: 10px;
}

canvas {
    margin-top: 30px;
    background: #1e293b;
    padding: 20px;
    border-radius: 14px;
}

.question {
    margin-bottom: 18px;
}

.summary {
    margin-top: 30px;
    background:#1e293b;
    padding:20px;
    border-radius:12px;
    line-height:1.6;
}

</style>
</head>

<body>

<header>
AI-Based Study Tools Impact Analysis Dashboard
</header>

<div class="tabs">
    <div class="tab active" onclick="showTab('questionnaire',this)">Questionnaire</div>
    <div class="tab" onclick="showTab('dashboard',this)">Analytics Dashboard</div>
</div>

<!-- QUESTIONNAIRE TAB -->

<div id="questionnaire" class="container">

<h2>Complete Research Questionnaire</h2>

<div class="question"><b>Section A: Demographics</b></div>
<div class="question">1. Gender</div>
<div class="question">2. Age</div>
<div class="question">3. Field of Study</div>
<div class="question">4. Year of Study</div>
<div class="question">5. Residence Type</div>

<div class="question"><b>Section B: Academic Background</b></div>
<div class="question">6. Current CGPA</div>
<div class="question">7. Study Hours per Week</div>
<div class="question">8. Assignments per Month</div>
<div class="question">9. Self-Rated Academic Performance (1–5)</div>

<div class="question"><b>Section C: AI Usage</b></div>
<div class="question">10. Do you use AI Tools?</div>
<div class="question">11. Primary Tool Used</div>
<div class="question">12. Usage Frequency</div>
<div class="question">13. AI Hours per Week</div>
<div class="question">14. Purpose of Usage</div>

<div class="question"><b>Section D: Productivity</b></div>
<div class="question">15. Assignment Time Before AI</div>
<div class="question">16. Assignment Time After AI</div>
<div class="question">17. Productivity Improvement (1–5)</div>
<div class="question">18. Quality Improvement (1–5)</div>
<div class="question">19. Concept Understanding (1–5)</div>

<div class="question"><b>Section E: Academic Impact</b></div>
<div class="question">20. Grade Impact</div>
<div class="question">21. % Improvement</div>

<div class="question"><b>Section F: Ethical Concerns</b></div>
<div class="question">22. Dependency Level (1–5)</div>
<div class="question">23. Thinking Skill Reduction (1–5)</div>
<div class="question">24. Regulation Support (1–5)</div>

<div class="question"><b>Section G: Overall Satisfaction</b></div>
<div class="question">25. Overall Satisfaction (1–5)</div>

</div>

<!-- DASHBOARD TAB -->

<div id="dashboard" class="container hidden">

<div class="grid">
<div class="card">AI Adoption Rate<div id="adopt" class="metric">--</div></div>
<div class="card">Avg CGPA (AI)<div id="avgAI" class="metric">--</div></div>
<div class="card">Avg CGPA (Non-AI)<div id="avgNon" class="metric">--</div></div>
<div class="card">Avg Time Reduction<div id="timeRed" class="metric">--</div></div>
<div class="card">Correlation (AI Hours vs CGPA)<div id="corr" class="metric">--</div></div>
<div class="card">Avg Satisfaction<div id="sat" class="metric">--</div></div>
</div>

<canvas id="usageChart"></canvas>
<canvas id="cgpaChart"></canvas>
<canvas id="impactChart"></canvas>

<div id="summary" class="summary"></div>

</div>

<script>

function showTab(id,el){
document.getElementById('questionnaire').classList.add('hidden');
document.getElementById('dashboard').classList.add('hidden');
document.getElementById(id).classList.remove('hidden');
document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
el.classList.add('active');
}

Papa.parse("AI_Study_Research_Data_250.csv",{
download:true,
header:true,
complete:function(res){

let data=res.data.filter(r=>r.CGPA);
let ai=data.filter(d=>d.UsesAI==1);
let non=data.filter(d=>d.UsesAI==0);

let adoption=(ai.length/data.length*100).toFixed(1);
document.getElementById("adopt").innerText=adoption+"%";

let avgAI=ai.reduce((a,d)=>a+parseFloat(d.CGPA),0)/ai.length;
let avgNon=non.reduce((a,d)=>a+parseFloat(d.CGPA),0)/non.length;

document.getElementById("avgAI").innerText=avgAI.toFixed(2);
document.getElementById("avgNon").innerText=avgNon.toFixed(2);

let red=ai.reduce((a,d)=>a+(d.TimeBefore-d.TimeAfter),0)/ai.length;
document.getElementById("timeRed").innerText=red.toFixed(2)+" hrs";

let hours=ai.map(d=>parseFloat(d.AIHours));
let cgpa=ai.map(d=>parseFloat(d.CGPA));

function corr(x,y){
let n=x.length;
let avgX=x.reduce((a,b)=>a+b)/n;
let avgY=y.reduce((a,b)=>a+b)/n;
let num=0,denX=0,denY=0;
for(let i=0;i<n;i++){
num+=(x[i]-avgX)*(y[i]-avgY);
denX+=(x[i]-avgX)**2;
denY+=(y[i]-avgY)**2;
}
return num/Math.sqrt(denX*denY);
}

let correlation=corr(hours,cgpa);
document.getElementById("corr").innerText=correlation.toFixed(2);

let sat=ai.reduce((a,d)=>a+parseFloat(d.Satisfaction),0)/ai.length;
document.getElementById("sat").innerText=sat.toFixed(2);

new Chart(document.getElementById("usageChart"),{
type:'bar',
data:{
labels:["Rarely","Sometimes","Often","Daily"],
datasets:[{
label:"Usage Frequency",
data:[
ai.filter(d=>d.Frequency==1).length,
ai.filter(d=>d.Frequency==2).length,
ai.filter(d=>d.Frequency==3).length,
ai.filter(d=>d.Frequency==4).length
],
backgroundColor:"#3b82f6"
}]
}
});

new Chart(document.getElementById("cgpaChart"),{
type:'bar',
data:{
labels:["AI Users","Non-AI Users"],
datasets:[{
label:"Average CGPA",
data:[avgAI,avgNon],
backgroundColor:["#22c55e","#ef4444"]
}]
}
});

new Chart(document.getElementById("impactChart"),{
type:'doughnut',
data:{
labels:["Negative","No Change","Positive"],
datasets:[{
data:[
data.filter(d=>d.GradeImpact<=2).length,
data.filter(d=>d.GradeImpact==3).length,
data.filter(d=>d.GradeImpact>=4).length
],
backgroundColor:["#ef4444","#facc15","#22c55e"]
}]
}
});

document.getElementById("summary").innerHTML=
"<b>Executive Insight:</b><br><br>"+
"AI adoption stands at "+adoption+"%. "+
"Students using AI demonstrate higher academic performance on average. "+
"There is a positive correlation ("+correlation.toFixed(2)+") between AI usage hours and CGPA. "+
"Assignment completion time reduces significantly, indicating efficiency gains. "+
"Overall satisfaction levels remain high, suggesting strong acceptance of AI tools.";

}
});

</script>

</body>
</html>
